<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>카테고리 순서 세팅 - CopyTube</title>

  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self';
    connect-src 'self' https://www.googleapis.com https://firestore.googleapis.com https://securetoken.googleapis.com https://identitytoolkit.googleapis.com https://www.gstatic.com https://www.youtube.com;
    img-src 'self' data: https://i.ytimg.com;
    frame-src https://www.youtube.com;
    script-src 'self' https://www.gstatic.com 'unsafe-inline';
    style-src 'self' 'unsafe-inline';
    object-src 'none';
    base-uri 'self';
  ">

  <link rel="stylesheet" href="css/style.css"/>
  <style>
    body{ padding-top:72px; }
    main{ max-width:980px; margin:0 auto; padding:16px; }

    .lead{ font-size:20px; margin:4px 0 8px; color:#e6e6e6; }
    .sub{ font-size:13px; color:#9aa0a6; margin:0 0 12px; }

    .grid{
      display:grid;
      grid-template-columns: 1fr 120px 1fr; /* 좌 | 가운데 화살/리셋 | 우 */
      gap:12px;
      align-items:start;
    }

    .col{
      border:1px solid var(--border);
      border-radius:10px; background:#0f0f0f;
      padding:10px; min-height:260px;
    }
    .title{ font-weight:800; font-size:14px; color:#e6e6e6; margin:0 0 8px; }
    .list{ display:flex; flex-direction:column; gap:6px; }

    .item{
      display:flex; align-items:center; gap:8px; padding:10px 12px;
      background:#111; border:1px solid #2a2a2a; color:#e5e7eb; border-radius:8px;
      cursor:pointer; user-select:none;
    }
    .item:hover{ background:#151515; }

    .mid{
      display:flex; flex-direction:column; align-items:center; gap:10px;
    }
    .btn{
      padding:10px 14px; border:1px solid #2a2a2a; border-radius:8px; background:#111; color:#e5e7eb; cursor:pointer; font-weight:800;
      width:100%;
    }
    .btn-primary{ background:#4ea1ff; color:#fff; border:0; }
    .row-right{ display:flex; justify-content:flex-end; margin-top:12px; }
  </style>
</head>
<body>
  <header id="topbar">
    <div class="brand">
      <a id="brandHome" href="./" aria-label="CopyTube 홈으로">
        <img class="brand-logo" src="image/copytube_logo_side.png" alt="CopyTube"/>
      </a>
    </div>
    <div class="right" style="position:relative;">
      <a id="signupLink" class="link" href="signup.html">Sign up</a>
      <a id="signinLink" class="link" href="signin.html">Sign in</a>
      <span id="welcome" class="welcome"></span>
      <button id="menuBtn" class="icon" aria-label="menu">三</button>
      <div id="dropdownMenu" class="dropdown hidden" role="menu" aria-hidden="true">
        <button id="btnAbout" type="button">CopyTube는…</button>
        <button id="btnMyUploads" type="button">내영상관리</button>
        <button id="btnSignOut" type="button">Sign out</button>
        <button id="btnGoUpload" class="menu-strong" type="button">추천영상등록</button>
      </div>
    </div>
  </header>

  <main>
    <h2 style="margin:6px 0 10px;">카테고리 순서 세팅</h2>
    <p class="sub">원하는 카테고리를 <b>오른쪽으로 차례대로</b> 보내고, <b>확인</b>을 누르세요. 오른쪽으로 보낸 순서가 먼저 적용되고, 남은 항목은 왼쪽에 남은 순서대로 뒤에 이어집니다.</p>

    <div class="grid">
      <!-- 왼쪽: 현재(기준) 순서 -->
      <div class="col">
        <div class="title">현재 순서</div>
        <div id="leftList" class="list"></div>
      </div>

      <!-- 가운데: 화살표(표식) + 리셋 -->
      <div class="mid">
        <button id="hint" class="btn" type="button" disabled>→</button>
        <button id="btnReset" class="btn" type="button">Reset</button>
      </div>

      <!-- 오른쪽: 새 순서(비어있음) -->
      <div class="col">
        <div class="title">새 순서(여기에 쌓이게)</div>
        <div id="rightList" class="list"></div>
      </div>
    </div>

    <div class="row-right">
      <button id="btnApply" class="btn btn-primary" type="button">확인</button>
    </div>
  </main>

  <script type="module" src="js/firebase-init.js"></script>
  <script type="module" src="js/auth.js"></script>
  <script type="module" src="js/category-order.js?v=20250822"></script>
</body>
</html>

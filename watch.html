<!doctype html>
<html lang="ko">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<title>CopyTube - 연결 중…</title>
<style>
  body{margin:0;background:#000;color:#9aa0a6;font-family:system-ui,Segoe UI,Roboto,Apple SD Gothic Neo,Apple Color Emoji,sans-serif}
  main{min-height:100vh;display:flex;align-items:center;justify-content:center;flex-direction:column;gap:8px}
  .hint{font-size:13px;opacity:.8}
</style>
<main>
  <div>기기를 확인하고 있어요…</div>
  <div class="hint">잠시만요</div>
</main>
<script>
(function(){
  try{
    const qp = new URL(location.href).searchParams;
    // 수동 강제 모드 (?mode=ios|android|desktop) 유지
    if (qp.get('mode')) {
      const m = qp.get('mode');
      if (m === 'ios')      return location.replace('watch-ios.html?'+qp.toString());
      if (m === 'android')  return location.replace('watch-android.html?'+qp.toString());
      return location.replace('watch-android.html?'+qp.toString());
    }

    const ua = navigator.userAgent || navigator.vendor || window.opera || "";
    const isiPadOS = navigator.platform === 'MacIntel' && navigator.maxTouchPoints > 1; // iPadOS의 'Mac' 위장
    const isIOS = /iPad|iPhone|iPod/.test(ua) || isiPadOS;

    // iOS는 전용 페이지, 그 외(안드/윈/맥/리눅스)는 기존 페이지로
    location.replace(isIOS ? 'watch-ios.html' : 'watch-android.html');
  }catch(e){
    // 문제가 생겨도 기본은 안드/윈 페이지로 보냄
    location.replace('watch-android.html');
  }
})();
</script>
</html>
